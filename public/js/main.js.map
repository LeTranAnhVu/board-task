{"version":3,"sources":["dummyDB.js","main.js","task.js"],"names":["tasksDB","id","missionName","priority","document","author","assignee","createdDate","deadline","mainDay","material","projectName","note","group","priorityClass","app","tables","tableId","initSortable","opt","root_el","getElementById","el","querySelector","tb1","Sortable","getDataFromServer","classifyData","forEach","data","newTask","Task","push","process","sortData","render","newNode","parentId","appendChild","init","htmlId","onStart","evt","$","ready","taskId","collapsedBtnId","moveBtnId","styleClass","template","timeStamp","node","createElement","className","insertAdjacentHTML"],"mappings":"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","file":"main.js","sourcesContent":["\nlet tasksDB = [\n  {\n    id: 1,\n    missionName: \"nhiem vu 1\",\n    priority: \"L\",\n    document: \"\",\n    author: \"Vule\",\n    assignee: \"Unknown\",\n    createdDate: \"20/12/2018\",\n    deadline: \"25/12/2018\",\n    mainDay: 4,\n    material: \"sắt\",\n    projectName: \"Dựng phôi thép\",\n    note: \"lorem  rem remrem\",\n    group: \"tasks-mission\"\n  },\n  {\n    id: 2,\n    missionName: \"nhiem vu 2\",\n    priority: \"H\",\n    document: \"\",\n    author: \"Vule\",\n    assignee: \"Unknown\",\n    createdDate: \"20/12/2015\",\n    deadline: \"25/12/2020\",\n    mainDay: 4,\n    material: \"\",\n    projectName: \"Mua nguyen lieu\",\n    note: \"lorem  rem remrem\",\n    group: \"tasks-processing\"\n  },\n  {\n    id: 3,\n    missionName: \"nhiem vu 3\",\n    priority: \"N\",\n    document: \"\",\n    author: \"Vule\",\n    assignee: \"Tien Nguyen\",\n    createdDate: \"20/12/2013\",\n    deadline: \"25/12/2014\",\n    mainDay: 4,\n    material: \"sắt, thep, carbon\",\n    projectName: \"Dựng phôi gang\",\n    note: \"gap\",\n    group: \"tasks-done\"\n  },\n]\n","const priorityClass = {\n  'N': \"normal-priority\",\n  'L': \"low-priority\",\n  'H': \"high-priority\"\n};\n\nlet app = {\n  tables: {\n    \"tasks-mission\" : [],\n    \"tasks-processing\" : [],\n    \"tasks-done\" : []\n  },\n\n  tableId: ['tasks-mission', 'tasks-processing', 'tasks-done'],\n\n  initSortable: function (id, opt) {\n    // due to the 'tasks' class is wrap all the task and it self the child of the tasks-type\n    // so we need to catch tasks rather than tasks-type\n    let root_el = document.getElementById(id);\n    let el = root_el.querySelector('.tasks');\n    let tb1 = new Sortable(el, opt);\n  },\n\n  getDataFromServer: function(){\n    // do some thing to fetch data\n    return tasksDB;\n  },\n\n  classifyData: function(){\n    let tasksDB = app.getDataFromServer(); // remember this is async function soon.\n    tasksDB.forEach(data=>{\n      let newTask = new Task(data);\n      app.tables[newTask.group].push(newTask.process());\n    })\n  },\n\n  sortData: function(){\n    app.classifyData();\n    // we need sort the data base on priority soon\n  },\n\n  render: function(){\n    app.tableId.forEach(id=>{\n      app.tables[id].forEach(newNode=>{\n        parentId = \"#\" + id;\n        document.querySelector( parentId + ' .tasks').appendChild(newNode);\n      })\n    })\n  },\n\n  init: function () {\n    // init sortable\n    app.tableId.forEach(htmlId => {\n      app.initSortable(htmlId, {\n        group: 'share',\n        onStart: function (evt) {},\n      });\n    })\n    // end init sortable\n    app.sortData();\n    app.render();\n  }\n}\n\n\n\n$(document).ready(() => {\n  app.init();\n});\n\n","\nfunction Task(data) {\n  let taskId = 'task_' + data.id;\n  let collapsedBtnId = 'collapsed-btn-' + data.id;\n  let moveBtnId = 'move-btn-' + data.id;\n  this.priorityClass = priorityClass[data.priority];\n  this.group = data.group;\n  this.styleClass = this.priorityClass;\n  this.template = '<div class=\"task-box\"><div class=\"main-content\"><div class=\"row\"><div class=\"col-2 item priority-col\"><div class=\"priority\"><span class=\"priority-value\">' + data.priority + '</span></div></div><div class=\"col-10 item\"><div class=\"inner-main-content\"><div class=\"title\"> <span class=\"task-code\">' + data.missionName + '</span><span class=\"task-name\">' + data.projectName + '</span></div><div class=\"desc\"><p class=\"short-desc\">' + data.note + '</p></div></div><div class=\"extra-features\"><a class=\"file-link\" href=\"#\"> <i class=\"fa fa-file-pdf\"></i><span class=\"pl-2\">Xem PDF</span></a><div class=\"task-toggle-btn btn btn-primary\" data-toggle=\"collapse\" href=\"' + '#' + collapsedBtnId + '\" role=\"button\" aria-expanded=\"false\" aria-controls=\"multiCollapseExample1\"><i class=\"fa fa-angle-down\" style=\"color:white\"></i></div></div></div></div></div><div class=\"collapse-content\"><div class=\"collapse\" id=\"' + collapsedBtnId + '\"><div class=\"card deadline-card\"><div class=\"row\"><div class=\"col-4 item create\"><i class=\"fa fa-play\"></i><date class=\"pl-2\">' + (data.createdDate || 'chưa xác định') + '</date></div><div class=\"col-4 item deadline\"><i class=\"fa fa-stop-circle\"></i><date class=\"pl-2\">' + (data.deadline || 'chưa xác định') + '</date></div><div class=\"col-4 item time-left\"><i class=\"fa fa-hourglass-end\"></i><span class=\"pl-2\">' + (data.mainDay || 'chưa xác định') + '</span></div></div></div><div class=\"card creator-card\"><div class=\"row\"><div class=\"col-4 item\"><p class=\"who\"><i class=\"fa fa-user\"></i><span class=\"creator pl-2\">' + (data.author || 'unknown') + '</span></p></div><div class=\"col-4 item offset-4\"><p class=\"time-stamp\">' + (data.timeStamp || 'chưa xác định') + '</p></div></div></div><div class=\"card employee-card\"><div class=\"row\"><div class=\"col-4 item\"><p class=\"who\"><i class=\"fa fa-cog\"></i><span class=\"creator pl-2\">' + (data.assignee || 'unknown') + '</span></p></div><div class=\"col-4 item offset-4\"><p class=\"time-stamp\">' + (data.timeStamp || 'chưa xác định') + '</p></div></div></div></div></div></div><div class=\"task-move-box\"><div class=\"button task-move-btn\" id=\"' + moveBtnId + '\"><i class=\"fa fa-angle-right\" style=\"color:white\"></i></div></div>';\n\n  this.node = document.createElement('div');\n  this.process = () => {\n    this.node.className = 'task' + \" \" + this.styleClass;\n    this.node.id = taskId;\n    this.node.insertAdjacentHTML('beforeend', this.template);\n    return this.node;\n  }\n}\n"]}